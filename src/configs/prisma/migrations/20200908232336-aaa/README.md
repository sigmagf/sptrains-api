# Migration `20200908232336-aaa`

This migration has been generated by Joao Gabriel at 9/8/2020, 8:23:36 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Line" DROP CONSTRAINT "Line_operatorId_fkey"

CREATE TABLE "public"."operators" (
"id" text   NOT NULL ,
"name" text   NOT NULL ,
"alias" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Line" ADD FOREIGN KEY ("operatorId")REFERENCES "public"."operators"("id") ON DELETE SET NULL ON UPDATE CASCADE

DROP TABLE "public"."Operator"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200908232220-start-migration-of-company-to-operator..20200908232336-aaa
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -13,8 +13,10 @@
   alias      String
   lines      Line[]
   createdAt  DateTime  @default(now())
   updatedAt  DateTime  @default(now()) @updatedAt
+
+  @@map("operators")
 }
 model Company {
   id         String    @id @default(uuid())
```


