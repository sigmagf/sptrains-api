# Migration `20200908232220-start-migration-of-company-to-operator`

This migration has been generated by Joao Gabriel at 9/8/2020, 8:22:20 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Line" ADD COLUMN "operatorId" text   

CREATE TABLE "public"."Operator" (
"id" text   NOT NULL ,
"name" text   NOT NULL ,
"alias" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Line" ADD FOREIGN KEY ("operatorId")REFERENCES "public"."Operator"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200907210527-sla..20200908232220-start-migration-of-company-to-operator
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,22 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
+model Operator {
+  id         String    @id @default(uuid())
+  name       String
+  alias      String
+  lines      Line[]
+  createdAt  DateTime  @default(now())
+  updatedAt  DateTime  @default(now()) @updatedAt
+}
+
 model Company {
   id         String    @id @default(uuid())
   name       String
   alias      String
```


